(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{8638:function(e,t,n){Promise.resolve().then(n.bind(n,8064))},8064:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var a=n(7437),o=n(9823),r=n(2861),i=n(2797),l=n(1396),s=n.n(l),c=n(4033),u=n(2265);function Home(){let e=(0,c.useRouter)(),t=(0,u.useRef)(!1),[n,l]=(0,u.useState)(""),[p,d]=(0,u.useState)(""),[y,f]=(0,u.useState)("");function handleOptionChange(e){d(e.target.value)}function dataSave(){i.n.setEntryPlayerName(n),i.n.setEntryPlayerIcon(p)}async function dataSaveAndMove(){let t=r.O.get(),a={deviceId:t,playerName:n,playerIcon:p},i=await o.t.postCheckDuplEntryPlayerName(a);if(void 0==i){console.error("Error: isDuplicate is undefined");return}if(i){f("エラー：名前が重複しています");return}dataSave();let l=await o.t.postPlayerTempRegist(a);if(void 0!=l){if(!l){f("エラー：ユーザー仮登録時にエラーが発生しました");return}console.log(l),e.push("/pl/entry/confirm/")}}return(0,u.useEffect)(()=>{var e,t;l(null!==(e=i.n.getEntryPlayerName())&&void 0!==e?e:""),d(null!==(t=i.n.getEntryPlayerIcon())&&void 0!==t?t:"")},[]),(0,u.useEffect)(()=>{if(t.current)return;let e=r.O.getToAPIData();o.t.postPlayerRegistRemove(e),t.current=!0},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"プレイヤー情報入力"}),(0,a.jsxs)("form",{action:"#",method:"post",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",children:"名前入力"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",onChange:function(e){l(e.target.value)},value:n,autoComplete:"off"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"アイコン選択"}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon01",checked:"icon01"===p,onChange:handleOptionChange}),"icon01"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon02",checked:"icon02"===p,onChange:handleOptionChange}),"icon02"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon03",checked:"icon03"===p,onChange:handleOptionChange}),"icon03"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon04",checked:"icon04"===p,onChange:handleOptionChange}),"icon04"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon05",checked:"icon05"===p,onChange:handleOptionChange}),"icon05"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon06",checked:"icon06"===p,onChange:handleOptionChange}),"icon06"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon07",checked:"icon07"===p,onChange:handleOptionChange}),"icon07"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon08",checked:"icon08"===p,onChange:handleOptionChange}),"icon08"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"icon09",checked:"icon09"===p,onChange:handleOptionChange}),"icon09"]})]})]}),(0,a.jsx)("p",{children:y}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)("span",{onClick:dataSaveAndMove,children:"次へ"})}),(0,a.jsx)("li",{children:(0,a.jsx)(s(),{href:"/pl/",onClick:dataSave,children:"戻る"})})]})]})}},9080:function(e,t,n){"use strict";var a;n.d(t,{Y:function(){return a}}),(a||(a={})).Point={WebSocket:"/api/ws",GetGetGameState:"/api/get-get-game-state",PostExistsDeviceId:"/api/post-exists-device-id",PostCheckPlayerAlive:"/api/post-check-player-alive",PostSaveNewGame:"/api/post-save-new-game",PostExistsEntryDeviceId:"/api/post-exists-entry-device-id",PostCheckDuplEntryPlayerName:"/api/post-check-dupl-entry-player-name",PostPlayerTempRegist:"/api/post-player-temp-regist",PostPlayerRegist:"/api/post-player-regist",PostPlayerRegistRemove:"/api/post-player-regist-remove",GetExecAllPlayerRemove:"/api/get-exec-all-player-remove",GetExecAllEntryRemove:"/api/get-exec-all-entry-remove",GetExecEntryRegist:"/api/get-exec-entry-regist",PostChangeGameState:"/api/post-change-game-state",GetFetchAllPlayerInfo:"/api/get-fetch-all-player-info",PostSelfRoleChecked:"/api/post-self-role-checked"}},9823:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var a,o=n(9080);let TypedFormData=class TypedFormData extends FormData{stringifyValue(e){return String(e)}constructor(e){for(let t in super(),e)e.hasOwnProperty(t)&&this.append(t,this.stringifyValue(e[t]))}};!function(e){function makeAPIEndpointURL(e){let t="http://localhost:8080";return void 0==t?"":"".concat(t).concat(e)}async function getGetGameState(){let e=makeAPIEndpointURL(o.Y.Point.GetGetGameState);if(""===e)return;let t=await fetch(e),n=await t.json();return n.gameState}async function postExistsDeviceId(e){let t=makeAPIEndpointURL(o.Y.Point.PostExistsDeviceId);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.exists}async function postCheckPlayerAlive(e){let t=makeAPIEndpointURL(o.Y.Point.PostCheckPlayerAlive);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.aliveStatus}async function postSaveNewGame(e){let t=makeAPIEndpointURL(o.Y.Point.PostSaveNewGame);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.result}async function postExistsEntryDeviceId(e){let t=makeAPIEndpointURL(o.Y.Point.PostExistsEntryDeviceId);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.exists}async function postCheckDuplEntryPlayerName(e){let t=makeAPIEndpointURL(o.Y.Point.PostCheckDuplEntryPlayerName);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n});console.log(a);let r=await a.json();return console.log(r),console.log(r.existsDuplicate),r.existsDuplicate}async function postPlayerTempRegist(e){let t=makeAPIEndpointURL(o.Y.Point.PostPlayerTempRegist);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.result}async function postPlayerRegist(e){let t=makeAPIEndpointURL(o.Y.Point.PostPlayerRegist);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.result}async function postPlayerRegistRemove(e){let t=makeAPIEndpointURL(o.Y.Point.PostPlayerRegistRemove);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.result}async function getExecAllPlayerRemove(){let e=makeAPIEndpointURL(o.Y.Point.GetExecAllPlayerRemove);if(""===e)return;let t=await fetch(e),n=await t.json();return n.result}async function getExecAllEntryRemove(){let e=makeAPIEndpointURL(o.Y.Point.GetExecAllEntryRemove);if(""===e)return;let t=await fetch(e),n=await t.json();return n.result}async function getExecEntryRegist(){let e=makeAPIEndpointURL(o.Y.Point.GetExecEntryRegist);if(""===e)return;let t=await fetch(e),n=await t.json();return n.result}async function postChangeGameState(e){let t=makeAPIEndpointURL(o.Y.Point.PostChangeGameState);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.result}async function getFetchAllPlayerInfo(){let e=makeAPIEndpointURL(o.Y.Point.GetFetchAllPlayerInfo);if(""===e)return;let t=await fetch(e),n=await t.json();return n.apiAllPlayerInfo}async function postSelfRoleChecked(e){let t=makeAPIEndpointURL(o.Y.Point.PostSelfRoleChecked);if(""===t)return;let n=new TypedFormData(e),a=await fetch(t,{method:"POST",body:n}),r=await a.json();return r.result}e.getGetGameState=getGetGameState,e.postExistsDeviceId=postExistsDeviceId,e.postCheckPlayerAlive=postCheckPlayerAlive,e.postSaveNewGame=postSaveNewGame,e.postExistsEntryDeviceId=postExistsEntryDeviceId,e.postCheckDuplEntryPlayerName=postCheckDuplEntryPlayerName,e.postPlayerTempRegist=postPlayerTempRegist,e.postPlayerRegist=postPlayerRegist,e.postPlayerRegistRemove=postPlayerRegistRemove,e.getExecAllPlayerRemove=getExecAllPlayerRemove,e.getExecAllEntryRemove=getExecAllEntryRemove,e.getExecEntryRegist=getExecEntryRegist,e.postChangeGameState=postChangeGameState,e.getFetchAllPlayerInfo=getFetchAllPlayerInfo,e.postSelfRoleChecked=postSelfRoleChecked}(a||(a={}))},2861:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var a,o=n(2797),r=n(1872);!function(e){function registerIfNotExists(){let e=o.n.getDeviceId();if(void 0==e){let e=(0,r.Z)();o.n.setDeviceId(e)}}function get(){var e;registerIfNotExists();let t=null!==(e=function(){let e=o.n.getDeviceId();return e}())&&void 0!==e?e:"";return t}e.registerIfNotExists=registerIfNotExists,e.get=get,e.getToAPIData=function(){let e=get();return{deviceId:e}}}(a||(a={}))},2797:function(e,t,n){"use strict";var a,o,r,i;n.d(t,{n:function(){return o}});let l={jrptGeneralDeviceid:"jrpt_general_deviceid",jrptNewgameMode:"jrpt_newgame_mode",jrptEntryPlayername:"jrpt_entry_playername",jrptEntryPlayericon:"jrpt_entry_playericon"};(r=a||(a={})).get=function(e){let t=localStorage.getItem(e);if(null!=t)return t},r.set=function(e,t){localStorage.setItem(e,t)},(i=o||(o={})).getDeviceId=function(){let e=a.get(l.jrptGeneralDeviceid);return e},i.setDeviceId=function(e){a.set(l.jrptGeneralDeviceid,e)},i.getNewGameMode=function(){let e=a.get(l.jrptNewgameMode);return e},i.getForPostNewGameMode=function(){let e=a.get(l.jrptNewgameMode);return{gameMode:e}},i.setNewGameMode=function(e){a.set(l.jrptNewgameMode,e)},i.getEntryPlayerName=function(){let e=a.get(l.jrptEntryPlayername);return e},i.setEntryPlayerName=function(e){a.set(l.jrptEntryPlayername,e)},i.getEntryPlayerIcon=function(){let e=a.get(l.jrptEntryPlayericon);return e},i.setEntryPlayerIcon=function(e){a.set(l.jrptEntryPlayericon,e)}},4033:function(e,t,n){e.exports=n(290)},1872:function(e,t,n){"use strict";let a;n.d(t,{Z:function(){return esm_browser_v4}});let o="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var r={randomUUID:o};let i=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();e=e||{};let o=e.random||(e.rng||function(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(i)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}(o)}}},function(e){e.O(0,[176,971,864,744],function(){return e(e.s=8638)}),_N_E=e.O()}]);