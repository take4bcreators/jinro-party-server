(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{3792:function(e,t,n){Promise.resolve().then(n.bind(n,5375))},5375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var r=n(7437),a=n(4666),o=n(9823),i=n(2861),s=n(2797),l=n(4033),c=n(2265);function Home(){let e=(0,l.useRouter)(),[t,n]=(0,c.useState)(""),[u,y]=(0,c.useState)(""),[p,d]=(0,c.useState)("");if((0,c.useEffect)(()=>{var e,t;n(null!==(e=s.n.getEntryPlayerName())&&void 0!==e?e:""),y(null!==(t=s.n.getEntryPlayerIcon())&&void 0!==t?t:"")},[]),""===t||""===u)return(0,r.jsx)(r.Fragment,{});async function saveAndMove(){let n=await o.t.getGetGameState();if(void 0==n)return;if(n!==a.D.PlayerJoining){d("エラー：ゲーム状態確認でエラーが発生しました");return}let r=i.O.get(),s=await o.t.postPlayerRegist({deviceId:r,playerName:t,playerIcon:u});if(void 0!=s){if(!s){d("エラー：ユーザー登録時にエラーが発生しました");return}e.push("/pl/entry/join/")}}async function doCancel(){let n=i.O.get(),r=await o.t.postPlayerRegistRemove({deviceId:n,playerName:t,playerIcon:u});void 0!=r&&r&&e.push("/pl/entry/input/")}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"確認画面"}),(0,r.jsx)("p",{children:"これでよろしいでしょうか？"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:t}),(0,r.jsx)("li",{children:u})]}),(0,r.jsx)("p",{children:p}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)("span",{onClick:saveAndMove,children:"ゲームへ参加"})}),(0,r.jsx)("li",{children:(0,r.jsx)("span",{onClick:doCancel,children:"戻る"})})]})]})}},9080:function(e,t,n){"use strict";var r;n.d(t,{Y:function(){return r}}),(r||(r={})).Point={WebSocket:"/api/ws",GetGetGameState:"/api/get-get-game-state",PostExistsDeviceId:"/api/post-exists-device-id",PostCheckPlayerAlive:"/api/post-check-player-alive",PostSaveNewGame:"/api/post-save-new-game",PostExistsEntryDeviceId:"/api/post-exists-entry-device-id",PostCheckDuplEntryPlayerName:"/api/post-check-dupl-entry-player-name",PostPlayerTempRegist:"/api/post-player-temp-regist",PostPlayerRegist:"/api/post-player-regist",PostPlayerRegistRemove:"/api/post-player-regist-remove",GetExecAllPlayerRemove:"/api/get-exec-all-player-remove",GetExecAllEntryRemove:"/api/get-exec-all-entry-remove",GetExecEntryRegist:"/api/get-exec-entry-regist",PostChangeGameState:"/api/post-change-game-state",GetFetchAllPlayerInfo:"/api/get-fetch-all-player-info",PostSelfRoleChecked:"/api/post-self-role-checked"}},4666:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});let r={Empty:"Empty",PreGame:"PreGame",PlayerJoining:"PlayerJoining",PlayerJoiningEnded:"PlayerJoiningEnded",PlayerListDisplay:"PlayerListDisplay",RoleAssignment:"RoleAssignment",DayPhaseStart:"DayPhaseStart",DayPhase:"DayPhase",DayPhaseEnd:"DayPhaseEnd",Voting:"Voting",VotingEnd:"VotingEnd",VoteResult:"VoteResult",ExileAnnouncement:"ExileAnnouncement",FinalExileAnnouncement:"FinalExileAnnouncement",NightPhaseStart:"NightPhaseStart",NightPhase:"NightPhase",NightPhaseEnd:"NightPhaseEnd",MorningPhaseStart:"MorningPhaseStart",NightActionResult:"NightActionResult",GameEnd:"GameEnd",FinalResult:"FinalResult",RoleReveal:"RoleReveal"}},9823:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var r,a=n(9080);let TypedFormData=class TypedFormData extends FormData{stringifyValue(e){return String(e)}constructor(e){for(let t in super(),e)e.hasOwnProperty(t)&&this.append(t,this.stringifyValue(e[t]))}};!function(e){function makeAPIEndpointURL(e){let t="http://localhost:8080";return void 0==t?"":"".concat(t).concat(e)}async function getGetGameState(){let e=makeAPIEndpointURL(a.Y.Point.GetGetGameState);if(""===e)return;let t=await fetch(e),n=await t.json();return n.gameState}async function postExistsDeviceId(e){let t=makeAPIEndpointURL(a.Y.Point.PostExistsDeviceId);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.exists}async function postCheckPlayerAlive(e){let t=makeAPIEndpointURL(a.Y.Point.PostCheckPlayerAlive);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.aliveStatus}async function postSaveNewGame(e){let t=makeAPIEndpointURL(a.Y.Point.PostSaveNewGame);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.result}async function postExistsEntryDeviceId(e){let t=makeAPIEndpointURL(a.Y.Point.PostExistsEntryDeviceId);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.exists}async function postCheckDuplEntryPlayerName(e){let t=makeAPIEndpointURL(a.Y.Point.PostCheckDuplEntryPlayerName);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n});console.log(r);let o=await r.json();return console.log(o),console.log(o.existsDuplicate),o.existsDuplicate}async function postPlayerTempRegist(e){let t=makeAPIEndpointURL(a.Y.Point.PostPlayerTempRegist);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.result}async function postPlayerRegist(e){let t=makeAPIEndpointURL(a.Y.Point.PostPlayerRegist);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.result}async function postPlayerRegistRemove(e){let t=makeAPIEndpointURL(a.Y.Point.PostPlayerRegistRemove);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.result}async function getExecAllPlayerRemove(){let e=makeAPIEndpointURL(a.Y.Point.GetExecAllPlayerRemove);if(""===e)return;let t=await fetch(e),n=await t.json();return n.result}async function getExecAllEntryRemove(){let e=makeAPIEndpointURL(a.Y.Point.GetExecAllEntryRemove);if(""===e)return;let t=await fetch(e),n=await t.json();return n.result}async function getExecEntryRegist(){let e=makeAPIEndpointURL(a.Y.Point.GetExecEntryRegist);if(""===e)return;let t=await fetch(e),n=await t.json();return n.result}async function postChangeGameState(e){let t=makeAPIEndpointURL(a.Y.Point.PostChangeGameState);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.result}async function getFetchAllPlayerInfo(){let e=makeAPIEndpointURL(a.Y.Point.GetFetchAllPlayerInfo);if(""===e)return;let t=await fetch(e),n=await t.json();return n.apiAllPlayerInfo}async function postSelfRoleChecked(e){let t=makeAPIEndpointURL(a.Y.Point.PostSelfRoleChecked);if(""===t)return;let n=new TypedFormData(e),r=await fetch(t,{method:"POST",body:n}),o=await r.json();return o.result}e.getGetGameState=getGetGameState,e.postExistsDeviceId=postExistsDeviceId,e.postCheckPlayerAlive=postCheckPlayerAlive,e.postSaveNewGame=postSaveNewGame,e.postExistsEntryDeviceId=postExistsEntryDeviceId,e.postCheckDuplEntryPlayerName=postCheckDuplEntryPlayerName,e.postPlayerTempRegist=postPlayerTempRegist,e.postPlayerRegist=postPlayerRegist,e.postPlayerRegistRemove=postPlayerRegistRemove,e.getExecAllPlayerRemove=getExecAllPlayerRemove,e.getExecAllEntryRemove=getExecAllEntryRemove,e.getExecEntryRegist=getExecEntryRegist,e.postChangeGameState=postChangeGameState,e.getFetchAllPlayerInfo=getFetchAllPlayerInfo,e.postSelfRoleChecked=postSelfRoleChecked}(r||(r={}))},2861:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var r,a=n(2797),o=n(1872);!function(e){function registerIfNotExists(){let e=a.n.getDeviceId();if(void 0==e){let e=(0,o.Z)();a.n.setDeviceId(e)}}function get(){var e;registerIfNotExists();let t=null!==(e=function(){let e=a.n.getDeviceId();return e}())&&void 0!==e?e:"";return t}e.registerIfNotExists=registerIfNotExists,e.get=get,e.getToAPIData=function(){let e=get();return{deviceId:e}}}(r||(r={}))},2797:function(e,t,n){"use strict";var r,a,o,i;n.d(t,{n:function(){return a}});let s={jrptGeneralDeviceid:"jrpt_general_deviceid",jrptNewgameMode:"jrpt_newgame_mode",jrptEntryPlayername:"jrpt_entry_playername",jrptEntryPlayericon:"jrpt_entry_playericon"};(o=r||(r={})).get=function(e){let t=localStorage.getItem(e);if(null!=t)return t},o.set=function(e,t){localStorage.setItem(e,t)},(i=a||(a={})).getDeviceId=function(){let e=r.get(s.jrptGeneralDeviceid);return e},i.setDeviceId=function(e){r.set(s.jrptGeneralDeviceid,e)},i.getNewGameMode=function(){let e=r.get(s.jrptNewgameMode);return e},i.getForPostNewGameMode=function(){let e=r.get(s.jrptNewgameMode);return{gameMode:e}},i.setNewGameMode=function(e){r.set(s.jrptNewgameMode,e)},i.getEntryPlayerName=function(){let e=r.get(s.jrptEntryPlayername);return e},i.setEntryPlayerName=function(e){r.set(s.jrptEntryPlayername,e)},i.getEntryPlayerIcon=function(){let e=r.get(s.jrptEntryPlayericon);return e},i.setEntryPlayerIcon=function(e){r.set(s.jrptEntryPlayericon,e)}},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=q,t.jsxs=q},7437:function(e,t,n){"use strict";e.exports=n(622)},4033:function(e,t,n){e.exports=n(290)},1872:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return esm_browser_v4}});let a="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var o={randomUUID:a};let i=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();e=e||{};let a=e.random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}(a)}}},function(e){e.O(0,[971,864,744],function(){return e(e.s=3792)}),_N_E=e.O()}]);